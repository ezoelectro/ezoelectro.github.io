<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head>
  
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>ezoelectro История разработок 3</title>

  
  
  <link href="style3.css" rel="stylesheet" type="text/css">

</head><body>
<p>&nbsp;</p>

<p>&nbsp;</p>

<div id="wrapper">
<p><a href="http://ezoe.ru">Home</a>&nbsp;</p>
<h1>История разработок. Часть 3</h1>
<h2>28 октября 2013</h2>
<div class="centrContent">
<p>Разработка четвертой версии remdetectora. </p>
<p><a href="case_imitation_1.jpg"><img src="case_imitation_1_sm.jpg" alt="img" height="568" width="500"></a></p>
<p>Подбор допустимой толщины корпуса. </p>
<p>&nbsp;</p>
<p><a href="case_imitation_2.jpg"><img src="case_imitation_2_sm.jpg" alt="img" height="606" width="500"></a></p>
<p>Максимум чтобы глаз ночью не цеплял за корпус это 8мм для данной
маски и моего глаза :)</p>
<p>&nbsp;</p>
<p><a href="case_imitation_3.jpg"><img src="case_imitation_3_sm.jpg" alt="img" height="375" width="500"></a></p>
<p>&nbsp;</p>
<p><a href="schm1.jpg"><img src="schm1.jpg" alt="img" height="396" width="687"></a></p>
<p>Первый вариант схемы. Позже немного переделал цепь зарядки
аккумулятора. Вот текущий вариант схемы от 26.12.2013 - <a href="../files/SCH_REMDET4_2013_12_26.pdf">SCH_REMDET4_2013_12_26.pdf</a></p>
<p>&nbsp;</p>
<p><img src="pcb1.PNG" alt="img" height="476" width="500"></p>
<p>Разводка печатной платы, в процессе.</p>
<p>&nbsp;</p>
<p><img src="pcb2.PNG" alt="img" height="497" width="500"></p>
<p>&nbsp;</p>
<p><img src="pcb3.PNG" alt="img" height="456" width="500"></p>
<p>&nbsp;</p>
<p><a href="case_3d_model_1.jpg"><img src="case_3d_model_1_sm.jpg" alt="img" height="365" width="500"></a></p>
<p>3D модель корпуса</p>
<p>&nbsp;</p>
<p><a href="case_3d_model_2.jpg"><img src="case_3d_model_2_sm.jpg" alt="img" height="363" width="500"></a></p>
<p>&nbsp;</p>
<p><a href="case_3d_model_3.jpg"><img src="case_3d_model_3_sm.jpg" alt="img" height="373" width="500"></a></p>
<p>&nbsp;</p>
<p><a href="case_3d_model_4.jpg"><img src="case_3d_model_4_sm.jpg" alt="img" height="378" width="500"></a></p>
<p>&nbsp;</p>
<p><a href="case_3d_model_5.jpg"><img src="case_3d_model_5_sm.jpg" alt="img" height="382" width="500"></a></p>
<p>&nbsp;</p>
<p><a href="case_3d_model_6.jpg"><img src="case_3d_model_6_sm.jpg" alt="img" height="401" width="500"></a></p>
<p>&nbsp;</p>
<p><a href="real_case_01.jpg"><img src="real_case_01_sm.jpg" alt="img" height="421" width="500"></a></p>
<p>Напечатал корпус на фотополимерном 3D принтере. Цена 2000руб.</p>
<p>&nbsp;</p>
<p><a href="real_case_02.jpg"><img src="real_case_02_sm.jpg" alt="img" height="423" width="500"></a></p>
<p> Детализация очень высокая. Очень доволен. Можно было за 2240руб,
тогда бы обе внешние стороны были гладкими, так только одна, та где
оптопары. Это потому что печатали вверх ногами и требовалось бы больше
материала поддержки. Ну зато теперь знаю чем глянцевая сторона
отличается от матовой при 3D печати.</p>
<p>&nbsp;</p>
<p><a href="real_case_03.jpg"><img src="real_case_03_sm.jpg" alt="img" height="427" width="500"></a></p>
<p>&nbsp;</p>
<p><a href="real_case_04.jpg"><img src="real_case_04_sm.jpg" alt="img" height="463" width="500"></a></p>
<p>&nbsp;</p>
<p><a href="real_case_05.jpg"><img src="real_case_05_sm.jpg" alt="img" height="388" width="500"></a></p>
<p>&nbsp;</p>
<p><a href="real_case_06.jpg"><img src="real_case_06_sm.jpg" alt="img" height="442" width="500"></a></p>
<p>&nbsp;</p>
<p><a href="real_case_07.jpg"><img src="real_case_07_sm.jpg" alt="img" height="491" width="500"></a></p>
<p>&nbsp;</p>
<p><a href="real_case_08.jpg"><img src="real_case_08_sm.jpg" alt="img" height="486" width="500"></a></p>
<p>&nbsp;</p>
<p><a href="real_case_09.jpg"><img src="real_case_09_sm.jpg" alt="img" height="368" width="500"></a></p>
<p>&nbsp;</p>
<p><a href="real_case_10.jpg"><img src="real_case_10_sm.jpg" alt="img" height="365" width="500"></a></p>
<p>&nbsp;</p>
<p><a href="real_case_11.jpg"><img src="real_case_11_sm.jpg" alt="img" height="384" width="500"></a></p>
<p>Толщина 8мм</p>
<p>&nbsp;</p>
<p><a href="eco_case_1.jpg"><img src="eco_case_1_sm.jpg" alt="img" height="263" width="500"></a></p>
<p>Этот вариант корпус напечатал знакомый на своем экструзионном 3d
принтере(Solidoodle 3 покупал его за $800 у производителя), цены за
корпус я от знакомого так и не добился, говорит по цене пластика,
качество заметно хуже чем из фотополимера, но цена думаю раз в 10
дешевле. Главное свою функцию будет выполнять :)</p>
<p>&nbsp;</p>
<p><a href="eco_case_2.jpg"><img src="eco_case_2_sm.jpg" alt="img" height="375" width="500"></a></p>
<p>&nbsp;</p>
<p><a href="eco_case_3.jpg"><img src="eco_case_3_sm.jpg" alt="img" height="490" width="500"></a></p>
<p><a href="eco_case_4.jpg"><img src="eco_case_4_sm.jpg" alt="img" height="561" width="500"></a></p>
<p>____________________________________________________________________________
</p>
<p>&nbsp;</p>
</div>
<h2>05 ноября 2013 </h2>
<div class="centrContent">
<p>&nbsp;</p>
<p><a href="remdet4_pcb1.jpg"><img src="remdet4_pcb1_sm.jpg" alt="img" height="517" width="500"></a></p>
<p>Пришли заказанные печатные платы.</p>
<p><a href="remdet4_pcb2.jpg"><img src="remdet4_pcb2_sm.jpg" alt="img" height="488" width="500"></a></p>
<p>&nbsp;</p>
<p><a href="remdet4_pcb3.jpg"><img src="remdet4_pcb3_sm.jpg" alt="img" height="485" width="500"></a></p>
<p>В корпусе плата держится как и задумывалось.</p>
<p><a href="remdet4_pcb4.jpg"><img src="remdet4_pcb4_sm.jpg" alt="img" height="540" width="500"></a></p>
<p>____________________________________________________________________________</p>
<p>&nbsp;</p>
</div>
<h2>07 ноября 2013 </h2>
<div class="centrContent">
<p>&nbsp;</p>
<p><a href="remdet4_assembly_01.jpg"><img src="remdet4_assembly_01_sm.jpg" alt="img" height="533" width="500"></a></p>
<p>Припаял детальки.</p>
<p><a href="remdet4_assembly_02.jpg"><img src="remdet4_assembly_02_sm.jpg" alt="img" height="592" width="500"></a></p>
<p><a href="remdet4_assembly_03.jpg"><img src="remdet4_assembly_03_sm.jpg" alt="img" height="509" width="500"></a></p>
<p><a href="remdet4_assembly_04.jpg"><img src="remdet4_assembly_04_sm.jpg" alt="img" height="488" width="500"></a></p>
<p><a href="remdet4_assembly_05.jpg"><img src="remdet4_assembly_05_sm.jpg" alt="img" height="291" width="500"></a></p>
<p><a href="remdet4_assembly_06.jpg"><img src="remdet4_assembly_06_sm.jpg" alt="img" height="484" width="500"></a></p>
<p><a href="remdet4_assembly_07.jpg"><img src="remdet4_assembly_07_sm.jpg" alt="img" height="288" width="500"></a></p>
<p><a href="remdet4_assembly_08.jpg"><img src="remdet4_assembly_08_sm.jpg" alt="img" height="384" width="500"></a></p>
<p><a href="remdet4_assembly_09.jpg"><img src="remdet4_assembly_09_sm.jpg" alt="img" height="531" width="500"></a></p>
<p>Запрограммировал, сейчас в компе видится как COM-порт. Вообще хочу
HID USB, пока не ясно где брать VID и PID. На картинке видно как
светятся светодиоды с другой стороны, а свет красиво идет через весь
корпус.</p>
<p>____________________________________________________________________________</p>
<p>&nbsp;</p>
</div>
<h2>08 ноября 2013 </h2>
<div class="centrContent">
<p>&nbsp;</p>
<p><a href="remdet4_assembly_10.jpg"><img src="remdet4_assembly_10_sm.jpg" alt="img" height="290" width="500"></a></p>
<p>Взвесил RemDetector4 на кухонных весах, получилось 21 грамм (это без
маски) с аккумулятором LP302030, с LP402030 будет потяжелее. Вообще
должен войти и LP452030 но где его заказать пока не нашел. LP402030
заказал на AliExpress, а LP302030 в Компеле.</p>
<p><a href="remdet4_assembly_11.jpg"><img src="remdet4_assembly_11_sm.jpg" alt="img" height="375" width="500"></a></p>
<p><a href="remdet4_assembly_12.jpg"><img src="remdet4_assembly_12_sm.jpg" alt="img" height="519" width="500"></a></p>
<p><a href="remdet4_assembly_13.jpg"><img src="remdet4_assembly_13_sm.jpg" alt="img" height="375" width="500"></a></p>
<p><a href="remdet4_assembly_14.jpg"><img src="remdet4_assembly_14_sm.jpg" alt="img" height="375" width="500"></a></p>
<p><a href="remdet4_assembly_15.jpg"><img src="remdet4_assembly_15_sm.jpg" alt="img" height="407" width="500"></a></p>
<p><a href="remdet4_assembly_16.jpg"><img src="remdet4_assembly_16_sm.jpg" alt="img" height="450" width="500"></a></p>
<p>____________________________________________________________________________</p>
<p>&nbsp;</p>
</div>
<h2>11 марта 2014 </h2>
<div class="centrContent">
<p>&nbsp;</p>
<p><a href="eye_moves.png"><img src="eye_moves.png" alt="img" height="450" width="500"></a></p>
<p>____________________________________________________________________________</p>
<p>&nbsp;</p>
</div>
<h2>20 марта 2014 </h2>
<div class="centrContent">
<p>&nbsp;</p>
<p><a href="remdet4_soft_01.png"><img src="remdet4_soft_01_sm.png" width="500" height="289" alt="img"></a></p>
<p>В связи с тем что используемая флешка в приборе имеет емкость 2^18=262144байт (256Кбайт). Чтобы этой памяти хватило на 10 часов сна, необходимо понизить частоту дескритизации с 24Гц до 6Гц. И разрядность данных с датчика глаза с 10бит(0-1023) до 5бит(0-31) и данные с акселерометра с 10бит(0-1023) до 3бит(0-7). Это позволит в один байт записать данные с глаза и акселерометра. Итого время записи будет 262144/6=43690сек или 728мин или 12,13час.</p>
<p>&nbsp;</p>
<table width="719" border="0">
  <tr>
    <td height="138"><a href="remdet4_soft_02.png"><img src="remdet4_soft_02_sm.png" width="235" height="136" alt="img"></a></td>
    <td><a href="remdet4_soft_03.png"><img src="remdet4_soft_03_sm.png" width="235" height="136" alt="img"></a></td>
    <td><a href="remdet4_soft_04.png"><img src="remdet4_soft_04_sm.png" width="235" height="136" alt="img"></a></td>
  </tr>
</table>
<table width="719" border="0">
  <tr>
    <td height="138"><a href="remdet4_soft_05.png"><img src="remdet4_soft_05_sm.png" width="235" height="136" alt="img"></a></td>
    <td><a href="remdet4_soft_06.png"><img src="remdet4_soft_06_sm.png" width="235" height="136" alt="img"></a></td>
    <td><a href="remdet4_soft_07.png"><img src="remdet4_soft_07_sm.png" width="235" height="136" alt="img"></a></td>
  </tr>
</table>
<table width="719" border="0">
  <tr>
    <td><a href="remdet4_soft_08.png"><img src="remdet4_soft_08_sm.png" width="235" height="136" alt="img"></a></td>
    <td><a href="remdet4_soft_09.png"><img src="remdet4_soft_09_sm.png" width="235" height="136" alt="img"></a></td>
    <td><a href="remdet4_soft_10.png"><img src="remdet4_soft_10_sm.png" width="235" height="136" alt="img"></a></td>
  </tr>
</table>
<p>На этой группе графиков показан эксперимент с повтором камманд движений глаз. Три повтора эксперимента. На первой картинке красным цветом показаны данные после цифрового полосового фильтра 0.19Гц-5Гц с датчика газа. Синим после такого же цифрового фильтра данные с акселерометра, с средне арефметического отклонений трех осей. На втором графике видно понижение разрядности и дескритизации для данных с датчика глаза, на третьем графике тоже для акселерометра. Все процессы преобразования происходят внутри микроконтроллера, а выводятся в графики только в отладочном режиме при подключенном USB.</p>
<table width="719" border="0">
  <tr>
    <td><a href="remdet4_soft_11.png"><img src="remdet4_soft_11_sm.png" width="235" height="136" alt="img"></a></td>
    <td><a href="remdet4_soft_12.png"><img src="remdet4_soft_12_sm.png" width="235" height="136" alt="img"></a></td>
    <td><a href="remdet4_soft_13.png"><img src="remdet4_soft_13_sm.png" width="235" height="136" alt="img"></a></td>
  </tr>
</table>
<p>На этих трех графиках показаны движения головы на подушке - синий цвет графиков. Движений глаз нет. На грасных графиках кажется что движение глаз есть, но на самом деле это  смещение маски на лице.</p>
<table width="719" border="0">
  <tr>
    <td><a href="remdet4_soft_14.png"><img src="remdet4_soft_14_sm.png" width="235" height="136" alt="img"></a></td>
    <td><a href="remdet4_soft_15.png"><img src="remdet4_soft_15_sm.png" width="235" height="136" alt="img"></a></td>
    <td><a href="remdet4_soft_16.png"><img src="remdet4_soft_16_sm.png" width="235" height="136" alt="img"></a></td>
  </tr>
</table>
<p>Это пример демонстрации происходящих внутренних процессов в приборе в более крупном масштабе сигнала. А именно понижение частоты дескретизации и разрядности данных с датчика движения глаза с 24Гц до 6Гц</p>
<table width="719" border="0">
  <tr>
    <td><a href="remdet4_soft_17.png"><img src="remdet4_soft_17_sm.png" width="235" height="136" alt="img"></a></td>
    <td><a href="remdet4_soft_18.png"><img src="remdet4_soft_18_sm.png" width="235" height="136" alt="img"></a></td>
    <td><a href="remdet4_soft_19.png"><img src="remdet4_soft_19_sm.png" width="235" height="136" alt="img"></a></td>
  </tr>
</table>
<p>Здесь тоже самое но с акселерометра(синий цвет графиков), повороты головы. </p>
<p><a href="remdet4_soft_20.png"><img src="remdet4_soft_20_sm.png" width="500" height="289" alt="img"></a></p>
<p>Это тоже повороты головы на подушке в увеличенном масштабе.</p>
<p><a href="remdet4_soft_21.png"><img src="remdet4_soft_21_sm.png" width="500" height="289" alt="img"></a></p>
<p>Это артефакты от движения маски на лице при повороте головы.</p>
<p><a href="remdet4_soft_22.png"><img src="remdet4_soft_22_sm.png" width="500" height="289" alt="img"></a></p>
<p>Это графики поворота головы.</p>
<p>Это пример демонстрации происходящих внутренних процессов в приборе. А именно понижение частоты дескретизации данных с акселерометра с 24Гц до 6Гц</p>
<p>На графике движения глаз есть изменения, на самом деле это маска болтается при движении головы. Для этого и нужен акселерометр, чтобы четко понять при анализе, что это не глаза двигаются.</p>
<p>Суть этих графиков чтобы показать работу цифровых фильтров и  снижение разрядности и частоты дескретизации в том что примерная форма сигнала сохраняется. Главное что уменьшается нагрузка на средства хранения и анализа сигнала.</p>
<p><a href="usb_debug_cable1.JPG"><img src="usb_debug_cable1_sm.JPG" width="500" height="332" alt="img"></a></p>
<p>&nbsp;</p>
<p><a href="usb_debug_cable2.JPG"><img src="usb_debug_cable2_sm.JPG" width="448" height="480" alt="img"></a></p>
<p>&nbsp;</p>
<p><a href="usb_debug_cable3.JPG"><img src="usb_debug_cable3_sm.JPG" width="500" height="470" alt="img"></a></p>
<p>Так выглядит отладочный USB кабель. В приборе два режима Рабочий(без USB) и Отладочный(при подключенном USB). Данный кабель отличается от стандартного отсутствием линии питания от USB. Он нужен только для отладки и диагностики прибора, чтобы исключить подсветку индикаторов заряда батареи. Использование стандартного USB кабеля или этого кабеля в рабочем режиме не допускается из соображений электро безопастности для человека, и так же будет максимально ограничено праграммно.</p>
<p>____________________________________________________________________________</p>
<p>&nbsp;</p>
</div>
<h2>21 марта 2014 </h2>
<div class="centrContent">
<p>&nbsp;</p>
<p>Тестирование цифровых фильтров</p>
<p><a href="filtr_test_1.PNG"><img src="filtr_test_1.PNG" width="500" height="281" alt="img"></a></p>
<p>Исходный сигнал</p>
<p><a href="filtr_test_2.PNG"><img src="filtr_test_2.PNG" width="500" height="281" alt="img"></a></p>
<p>Фильтр 2 порядка 5Гц</p>
<p><a href="filtr_test_3.PNG"><img src="filtr_test_3.PNG" width="500" height="281" alt="img"></a></p>
<p>Добавлен фильтр 2 порядка 0.19Гц</p>
<p><a href="filtr_test_4.PNG"><img src="filtr_test_4.PNG" width="500" height="281" alt="img"></a></p>
<p>Серым цветом показан  полосовой фильтр 2 порядка 0.19-5Гц примененный к исходному сигналу. Видно что разница не значительна. Поэтому нет смысла использовать последовательно два фильтра. Можно сразу этот полосовой.</p>
<p><a href="filtr_test_5.PNG"><img src="filtr_test_5.PNG" width="500" height="281" alt="img"></a></p>
<p><a href="filtr_test_6.PNG"><img src="filtr_test_6.PNG" width="500" height="281" alt="img"></a></p>
<p>ABS() сигнала, т.е. все отрицательное стало положительным.</p>
<p><a href="filtr_test_7.PNG"><img src="filtr_test_7.PNG" width="500" height="281" alt="img"></a></p>
<p>Полученный сигнал. Далее у него понижается частота дескритизации, и разрядность. О чем писалось выше.</p>
<p>____________________________________________________________________________</p>
<p>&nbsp;</p>
</div>
</div>

<div id="wrapper">
<h2>информация</h2>
<div class="centrContent">
  <p>К рекламе которая отображается на моих страничках я не имею никакого отношения, хостинг narod.ru бесплатный, поэтому они вставляют рекламу какую хотят, куда хотят и как хотят.</p>
</div>
<p>&nbsp;</p>
</div>


<p>&nbsp;</p>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-12871483-2', 'auto');
  ga('send', 'pageview');

</script>
</body></html>